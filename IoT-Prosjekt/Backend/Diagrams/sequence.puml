@startuml
actor GUI as "Fjernkontroll"
participant Backend
database Data as "Database/Json"

GUI -> Backend: Registrer
Backend -> Data: Sjekker database/json
Data --> Backend: Ikke registrert
Backend -> Data: Lagre denne fjernkontrollen
Data --> Backend: Fjernkontroll lagret
Backend --> GUI: Fjernkontroll opprettet + API-nøkkel

== Registreringsforespørsel for allerede registrert fjernkontroll ==
GUI -> Backend: Registrer
Backend -> Data: Sjekker database/json
Data --> Backend: Er registrert
Backend --> GUI: Allerede registrert

== Using the API Key ==
GUI -> Backend: Send API request with API key
Backend -> Data: Validate API key
Data --> Backend: API key valid
Backend -> Data: Fetch device status
Data --> Backend: Device status
Backend --> GUI: Return device status

== Styring av lys ==
GUI -> Backend: Skru av/på lys
Backend -> Data: Endrer status
Data --> Backend: Status endret
Backend --> GUI: Lys er av/på
@enduml
